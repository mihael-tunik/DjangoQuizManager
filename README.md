<img src="frontend/react_frontend/src/images/logo.png" width=175>

Django Quiz Manager - quiz data storage application with embedded quiz-player on ReactJS. 

![license](https://img.shields.io/github/license/mihael-tunik/DjangoQuizManager)
![python](https://img.shields.io/badge/python-3.8.10-green)
## About
![image](screenshots/storage_app.png)
This is repository for the QuizManager application.
Main idea of the project is that for simple binary relation:
```
 { 
   "Q1" : "answer_1",
   "Q2" : "answer_2",
   "Q3" : "answer_3", 
   ...
 } 
```
reasonable quiz can be generated by picking right answer and some random subset of alternatives.

Many quizzes behave in this way, including such important examples like word quizzes, alphabet and kanji tests. From the list of questions and right answers stored in database in .json format this simple app can construct the quizzes.

Not to mention that this project can be used for educational purposes or as a template for typical Django/React web-application.

## Architecture discussion
There is three basic [models](https://www.valentinog.com/blog/drf/) how React can be connected to Django.
```
- React in its own "frontend" Django app: load a single HTML template and let React manage the frontend;
- Django REST as a standalone API + React as a standalone SPA;
- Mix and match: mini React apps inside Django templates.
```
This app was made basically the second way from the list.
It is the most scalable approach with clear possibility to develop and test frontend/backend parts independently.

## Build
For manual build and development check out documentation in /backend/README.md

## Build with Docker and Nginx
Before you start make sure you have Docker installed (tested on version 20.10.17).
Then configure global .env file (see .env.global.example) which is linked in docker-compose.yml and in parent project folder run
```
docker-compose build
docker-compose up
```
The app should be running in [localhost:8080](http://localhost:8080)
and API should be available on [localhost:8080/api/quizzes/{quiz_id}](http://localhost:8080/api/quizzes)

![image](scheme.png)

## Advanced [work in progress]
As a first step to production security level you can equip Nginx with self-signed SSL certificate.
After that the connection between your server and user should become more secure (still nobody will trust you, cause its self-signed).

First generate .pem, .crt and .key files following
[instructions](https://www.digitalocean.com/community/tutorials/how-to-create-a-self-signed-ssl-certificate-for-nginx-on-centos-7).
```
cd nginx
sudo openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout nginx-selfsigned.key -out nginx-selfsigned.crt
sudo openssl dhparam -out ./dhparam.pem 2048
```
To enable HTTPS in .env file set
```
SSL_MODE=ssl 
REACT_APP_API_SERVER=https://localhost:443
```
And then you can set up project as usual (sudo may be necessary for copying .key files).

## Acknowledgements
Backend is revised version of this [tutorial](https://github.com/techiediaries/django-react)
on digital ocean. And frontend is based on my previous project [JSQuiz](https://github.com/mihael-tunik/JSQuiz).
Big thanks to this [docker-template](https://github.com/Ceci-Aguilera/django-react-nginx-mysql-docker) and
this [tutorial](https://github.com/seankwarren/Django-React-jwt-authentication) for JWT authentication.
